<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  	<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
		<title>Caixa de Economias</title>
</head>
<body> 
	<nav class="navbar navbar-expand-md bg-dark navbar-dark">
	  <a class="navbar-brand" href="#"><img src="/static/imgs/logo.png" alt="Logo" style="width:40px;"> Caixa de Economias</a>
	  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
	  <span class="navbar-toggler-icon"></span>
	  </button>
	  <div class="collapse navbar-collapse" id="collapsibleNavbar">
	    <ul class="navbar-nav">
	      <li class="nav-item">
	        <a class="nav-link" href="#">Terminal</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="#">Configs</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="#">Sobre</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="#">Sair</a>
	      </li>    
	    </ul>
	  </div>  
	</nav>

<!-- Nav tabs -->
<ul class="nav nav-tabs">
  <li class="nav-item">
    <a class="nav-link active" data-toggle="tab" href="#home">Saldo</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" data-toggle="tab" href="#extratos">Extratos</a>
  </li>
</ul>

<!-- Tab panes -->
<div class="tab-content ">
  <div class="tab-pane container active" id="home">
		<br>
		<div class="card bg-dark text-white">
	    <div class="card-body"><p>Valor em conta</p><h1 class="float-right"><span style="color: {{  cor_conta }}; font-weight: bold;">{{conta}}</span></span></h1>
	    </div>
	  </div>
	  <br>
		<div class="card bg-dark text-white">
	    <div class="card-body"><p>Ultima movimentação: {{dt}} </p><span style="font-size: 20px; font-weight: bold;">{{ultO}}</span> <span class="float-right" style="color: {{ cor_ultC }}; font-size: 20px; font-weight: bold;">{{ultC}}</span></div>
	  </div>
	  	<br>
	  	<div class="card bg-dark text-white">
	    	<div class="card-body">
		    	<p>Movimentar conta</p>
					<form action="{{ url_for('movimentacao') }}" methods="get">
		  		  <div class="input-group mb-3">
		    		  <div class="input-group-prepend">
		      			<span class="input-group-text">R$</span>
		   			  </div>
		          <input type="number" step="any" name="movimento" class="form-control">
		        </div>
		        <br>
		        <div class="custom-control custom-radio custom-control-inline">
              <input type="radio" class="custom-control-input" id="customRadio1" name="tipo" value="deposito" checked>
              <label class="custom-control-label" for="customRadio1">Depositar</label>
            </div>
            <div class="custom-control custom-radio custom-control-inline">
              <input type="radio" class="custom-control-input" id="customRadio2" name="tipo" value="saque">
              <label class="custom-control-label" for="customRadio2">Sacar</label>
            </div>
            <br>
            <br>
						<input type="button" class="btn btn-success form-control" value="Enviar" data-toggle="modal" data-target="#myModal">
		         <br>
		              <!-- The Modal -->
					  <div class="modal" id="myModal">
					    <div class="modal-dialog">
					      <div class="modal-content">
					      
					        <!-- Modal Header -->
					        <div class="modal-header bg-dark">
					          <h4 class="modal-title">Confirme a movimentaçao</h4>
					          <button type="button" class="close" data-dismiss="modal">&times;</button>
					        </div>
					        
					        <!-- Modal body -->
					        <div class="modal-body text-dark">
					            

					            
					        </div>
					        
					        <!-- Modal footer -->
					         <div class="modal-footer">
					          <input type="submit" class="btn btn-success" value="OK" >
					          <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
					        </div>
					        
					      </div>
					    </div>
					  </div>
					  
					</div>
		    </form>
		  </div>
		</div>

    <div class="tab-pane container fade" id="extratos">
		<br>
		<table class="table table-bordered table-hover">
			<thead class="thead-dark">
				<tr>
				    <th>Data</th>
				    <th>Tipo</th>
				    <th>Valor</th>
				</tr>
			</thead>
			<tbody>
				{% for i in li %}
							{% if 	i[1] == 'deposito' %}
							{% set cor_mov = 'table-info'%}
							{% set cor_valor = '#00CC00'%}
							{% elif 	i[1] == 'saque' %}
							{% set cor_mov = 'table-danger'%}
							{% set cor_valor = '#DF0101'%}
							{% else %}
							{% set cor_mov = 'table-success' %}
							{% set cor_valor = '#067EF6'%}
							{% endif %}

				<tr class="{{ cor_mov }}"> <td align="center" style=" font-weight: bold;">{{ i[0] }}</td><td align="center" style=" font-weight: bold;">{{ i[1].capitalize() }}</td><td align="right" style="font-weight: bold; color: {{  cor_valor }};">{{ real(i[2]) }}</td></tr>
				{% endfor %}	
			</tbody>
		</table>
	</div>
</body>
</html>